\hypertarget{namespacemode3}{}\doxysection{mode3 Namespace Reference}
\label{namespacemode3}\index{mode3@{mode3}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classmode3_1_1_publish_thread}{Publish\+Thread}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacemode3_aefcba5555ae40f4b500a9f43aa338a3b}{get\+Key}} (key\+\_\+timeout)
\item 
def \mbox{\hyperlink{namespacemode3_ab77a1bc4b2ea9e949b05ad0f811e60c7}{Callback\+Laser}} (msg)
\item 
def \mbox{\hyperlink{namespacemode3_af9d0485ea3f7eec38aebe36b4ffb5cb9}{pop\+\_\+it}} (dictionary)
\item 
def \mbox{\hyperlink{namespacemode3_a66d8bb537ae282db65b0943471386d46}{main}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespacemode3_a9012957e457ed28905109c24da30f02e}\label{namespacemode3_a9012957e457ed28905109c24da30f02e}} 
bool {\bfseries ok\+\_\+left} = True
\item 
\mbox{\Hypertarget{namespacemode3_ab017dc74f7f1b69938e46caef1f4f657}\label{namespacemode3_ab017dc74f7f1b69938e46caef1f4f657}} 
bool {\bfseries ok\+\_\+right} = True
\item 
\mbox{\Hypertarget{namespacemode3_a0b80a14ec2427fe098b759f5ca1f67e7}\label{namespacemode3_a0b80a14ec2427fe098b759f5ca1f67e7}} 
bool {\bfseries ok\+\_\+straight} = True
\item 
string {\bfseries msg}
\item 
dictionary {\bfseries move\+Bindings}
\item 
dictionary {\bfseries speed\+Bindings}
\item 
\mbox{\Hypertarget{namespacemode3_a9c2810ed8c476c805111d748bc058413}\label{namespacemode3_a9c2810ed8c476c805111d748bc058413}} 
int {\bfseries boolprint} = 1
\item 
\mbox{\Hypertarget{namespacemode3_a9d359bdfc20f17995f0b66a13ead1125}\label{namespacemode3_a9d359bdfc20f17995f0b66a13ead1125}} 
{\bfseries active\+\_\+} = rospy.\+get\+\_\+param(\char`\"{}/active\char`\"{})
\item 
\mbox{\Hypertarget{namespacemode3_a81d3eff39973f4510827bb8670f44e06}\label{namespacemode3_a81d3eff39973f4510827bb8670f44e06}} 
{\bfseries settings} = termios.\+tcgetattr(sys.\+stdin)
\item 
\mbox{\Hypertarget{namespacemode3_afb2690676ce2f4d81efcd76faba69096}\label{namespacemode3_afb2690676ce2f4d81efcd76faba69096}} 
{\bfseries speed} = rospy.\+get\+\_\+param(\char`\"{}$\sim$speed\char`\"{}, 0.\+5)
\item 
\mbox{\Hypertarget{namespacemode3_a9eace84b3f0a74b5da60af4eddc94cba}\label{namespacemode3_a9eace84b3f0a74b5da60af4eddc94cba}} 
{\bfseries turn} = rospy.\+get\+\_\+param(\char`\"{}$\sim$turn\char`\"{}, 1.\+0)
\item 
\mbox{\Hypertarget{namespacemode3_af04c40344579ed26672293c494dd7606}\label{namespacemode3_af04c40344579ed26672293c494dd7606}} 
{\bfseries repeat} = rospy.\+get\+\_\+param(\char`\"{}$\sim$repeat\+\_\+rate\char`\"{}, 0.\+0)
\item 
\mbox{\Hypertarget{namespacemode3_a3811a414cda2f0c0273558913b4a3c35}\label{namespacemode3_a3811a414cda2f0c0273558913b4a3c35}} 
{\bfseries key\+\_\+timeout} = rospy.\+get\+\_\+param(\char`\"{}$\sim$key\+\_\+timeout\char`\"{}, 0.\+1)
\item 
\mbox{\Hypertarget{namespacemode3_ab6b09636e839d0429b292c1e048868a6}\label{namespacemode3_ab6b09636e839d0429b292c1e048868a6}} 
{\bfseries sub} = rospy.\+Subscriber(\textquotesingle{}/scan\textquotesingle{}, Laser\+Scan, \mbox{\hyperlink{namespacemode3_ab77a1bc4b2ea9e949b05ad0f811e60c7}{Callback\+Laser}})
\item 
\mbox{\Hypertarget{namespacemode3_a19961ebfebd39ddbe9f2646e3bd280a3}\label{namespacemode3_a19961ebfebd39ddbe9f2646e3bd280a3}} 
{\bfseries pub\+\_\+thread} = \mbox{\hyperlink{classmode3_1_1_publish_thread}{Publish\+Thread}}(repeat)
\item 
\mbox{\Hypertarget{namespacemode3_a91a2874fa607c29e0c3b244f7263a502}\label{namespacemode3_a91a2874fa607c29e0c3b244f7263a502}} 
int {\bfseries x} = 0
\item 
\mbox{\Hypertarget{namespacemode3_a92121c813e6614d57a62a5adc3cf086b}\label{namespacemode3_a92121c813e6614d57a62a5adc3cf086b}} 
int {\bfseries y} = 0
\item 
\mbox{\Hypertarget{namespacemode3_aee1fa2a85fd7113b5ae6a68531e15d6e}\label{namespacemode3_aee1fa2a85fd7113b5ae6a68531e15d6e}} 
int {\bfseries z} = 0
\item 
\mbox{\Hypertarget{namespacemode3_a6cb733c77c1bd8a3e511c0d2cabf889e}\label{namespacemode3_a6cb733c77c1bd8a3e511c0d2cabf889e}} 
int {\bfseries th} = 0
\item 
\mbox{\Hypertarget{namespacemode3_ac9a6b858bd2898510e3f5331dd6463df}\label{namespacemode3_ac9a6b858bd2898510e3f5331dd6463df}} 
int {\bfseries status} = 0
\item 
\mbox{\Hypertarget{namespacemode3_af07c17a4274b4c9d496f3e9d5df1583f}\label{namespacemode3_af07c17a4274b4c9d496f3e9d5df1583f}} 
{\bfseries rate} = rospy.\+Rate(5)
\item 
\mbox{\Hypertarget{namespacemode3_aef88d6e0527ec8d6af31dc0cc5175744}\label{namespacemode3_aef88d6e0527ec8d6af31dc0cc5175744}} 
dictionary {\bfseries move\+Bindings\+\_\+copy} = \{\}
\item 
\mbox{\Hypertarget{namespacemode3_a9fca21123423997bb0b819db7eec9788}\label{namespacemode3_a9fca21123423997bb0b819db7eec9788}} 
def {\bfseries key} = \mbox{\hyperlink{namespacemode3_aefcba5555ae40f4b500a9f43aa338a3b}{get\+Key}}(key\+\_\+timeout)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}.. module:: Modality3
 :platform: Unix
 :synopsis: Module for the second modality.

.. moduleauthor:: Abdul Rauf <ar223565@gmail.com>
 
This code is just the already existing teleop_twist_keyboard package on ROS. Some of the code has been modified in  order to incorporate
the script with the final_assignment package. Some code won't be commented as gar as you can check the ROS wiki package of it by googling it.
Anyway, here's the link for getting deeper in the code: http://wiki.ros.org/teleop_twist_keyboard
The dictionary ``moveBindings`` will have some features popped out because when the robot is close to the walls. This permits to the user to avoid colliding with the walls.\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacemode3_ab77a1bc4b2ea9e949b05ad0f811e60c7}\label{namespacemode3_ab77a1bc4b2ea9e949b05ad0f811e60c7}} 
\index{mode3@{mode3}!CallbackLaser@{CallbackLaser}}
\index{CallbackLaser@{CallbackLaser}!mode3@{mode3}}
\doxysubsubsection{\texorpdfstring{CallbackLaser()}{CallbackLaser()}}
{\footnotesize\ttfamily def mode3.\+Callback\+Laser (\begin{DoxyParamCaption}\item[{}]{msg }\end{DoxyParamCaption})}

\begin{DoxyVerb}Function to check if some wall is close to the robot.

Args:
 message from the odometry of the robot
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemode3_aefcba5555ae40f4b500a9f43aa338a3b}\label{namespacemode3_aefcba5555ae40f4b500a9f43aa338a3b}} 
\index{mode3@{mode3}!getKey@{getKey}}
\index{getKey@{getKey}!mode3@{mode3}}
\doxysubsubsection{\texorpdfstring{getKey()}{getKey()}}
{\footnotesize\ttfamily def mode3.\+get\+Key (\begin{DoxyParamCaption}\item[{}]{key\+\_\+timeout }\end{DoxyParamCaption})}

\begin{DoxyVerb}Function to get the input from the keyboard without having the need to wait for the user to press enter.

Args:
 key_timeout
Returns:
 the k
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemode3_a66d8bb537ae282db65b0943471386d46}\label{namespacemode3_a66d8bb537ae282db65b0943471386d46}} 
\index{mode3@{mode3}!main@{main}}
\index{main@{main}!mode3@{mode3}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def mode3.\+main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyVerb}The main here is really important because as the different input arrives it changes the key moving the robots.
As the other two modalities, we have again ``active`` which permits the user to use the modality as he wants.
As you could see, the modality 1 and the modality 2 are pretty equal, but here's the difference, when the robot is close to a wall,
we pop the keys in the dictionary permitting the robot to move towards the robot. 
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemode3_af9d0485ea3f7eec38aebe36b4ffb5cb9}\label{namespacemode3_af9d0485ea3f7eec38aebe36b4ffb5cb9}} 
\index{mode3@{mode3}!pop\_it@{pop\_it}}
\index{pop\_it@{pop\_it}!mode3@{mode3}}
\doxysubsubsection{\texorpdfstring{pop\_it()}{pop\_it()}}
{\footnotesize\ttfamily def mode3.\+pop\+\_\+it (\begin{DoxyParamCaption}\item[{}]{dictionary }\end{DoxyParamCaption})}

\begin{DoxyVerb}Function to pop the key from the dictionary. As you can see it's pretty intuitive, because depending by the position of the wall we
pop some precise keys.

Args:
 dictionary
\end{DoxyVerb}
 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacemode3_a4740255fdfd174b5a14659a35b9dc8cd}\label{namespacemode3_a4740255fdfd174b5a14659a35b9dc8cd}} 
\index{mode3@{mode3}!moveBindings@{moveBindings}}
\index{moveBindings@{moveBindings}!mode3@{mode3}}
\doxysubsubsection{\texorpdfstring{moveBindings}{moveBindings}}
{\footnotesize\ttfamily dictionary mode3.\+move\+Bindings}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  \{}
\DoxyCodeLine{2         \textcolor{stringliteral}{'i'}:(1,0,0,0),}
\DoxyCodeLine{3         \textcolor{stringliteral}{'j'}:(0,0,0,1),}
\DoxyCodeLine{4         \textcolor{stringliteral}{'l'}:(0,0,0,-\/1),}
\DoxyCodeLine{5         \textcolor{stringliteral}{'k'}:(-\/1,0,0,0),}
\DoxyCodeLine{6     \}}

\end{DoxyCode}
\mbox{\Hypertarget{namespacemode3_a85c46a469eb6cb56f9826aa1b0ffe901}\label{namespacemode3_a85c46a469eb6cb56f9826aa1b0ffe901}} 
\index{mode3@{mode3}!msg@{msg}}
\index{msg@{msg}!mode3@{mode3}}
\doxysubsubsection{\texorpdfstring{msg}{msg}}
{\footnotesize\ttfamily string mode3.\+msg}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  \textcolor{stringliteral}{"""}}
\DoxyCodeLine{2 \textcolor{stringliteral}{}}
\DoxyCodeLine{3 \textcolor{stringliteral}{This node makes the robot move with some keys, here's the list, enjoy!}}
\DoxyCodeLine{4 \textcolor{stringliteral}{Be careful! when you're close to walls it is gonna stop.}}
\DoxyCodeLine{5 \textcolor{stringliteral}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{6 \textcolor{stringliteral}{}}
\DoxyCodeLine{7 \textcolor{stringliteral}{Moving around:}}
\DoxyCodeLine{8 \textcolor{stringliteral}{        i     }}
\DoxyCodeLine{9 \textcolor{stringliteral}{   j    k    l}}
\DoxyCodeLine{10 \textcolor{stringliteral}{}}
\DoxyCodeLine{11 \textcolor{stringliteral}{}}
\DoxyCodeLine{12 \textcolor{stringliteral}{q/z : increase/decrease max speeds by 10\%}}
\DoxyCodeLine{13 \textcolor{stringliteral}{w/x : increase/decrease only linear speed by 10\%}}
\DoxyCodeLine{14 \textcolor{stringliteral}{e/c : increase/decrease only angular speed by 10\%}}
\DoxyCodeLine{15 \textcolor{stringliteral}{"""}}

\end{DoxyCode}
\mbox{\Hypertarget{namespacemode3_a4770a19cfa042119b172ac8d8c756e34}\label{namespacemode3_a4770a19cfa042119b172ac8d8c756e34}} 
\index{mode3@{mode3}!speedBindings@{speedBindings}}
\index{speedBindings@{speedBindings}!mode3@{mode3}}
\doxysubsubsection{\texorpdfstring{speedBindings}{speedBindings}}
{\footnotesize\ttfamily dictionary mode3.\+speed\+Bindings}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 = \{}
\DoxyCodeLine{2         \textcolor{stringliteral}{'q'}:(1.1,1.1),}
\DoxyCodeLine{3         \textcolor{stringliteral}{'z'}:(.9,.9),}
\DoxyCodeLine{4         \textcolor{stringliteral}{'w'}:(1.1,1),}
\DoxyCodeLine{5         \textcolor{stringliteral}{'x'}:(.9,1),}
\DoxyCodeLine{6         \textcolor{stringliteral}{'e'}:(1,1.1),}
\DoxyCodeLine{7         \textcolor{stringliteral}{'c'}:(1,.9),}
\DoxyCodeLine{8     \}}

\end{DoxyCode}
